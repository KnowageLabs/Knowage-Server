import{L as h,a2 as r,R as f,y as g,o as c,c as b,B as m,C as y,z as x,G as p,J as V,a as D,t as O}from"./index-1e676509.js";var B={name:"SelectButton",emits:["update:modelValue","focus","blur","change"],props:{modelValue:null,options:Array,optionLabel:null,optionValue:null,optionDisabled:null,multiple:Boolean,unselectable:{type:Boolean,default:!0},disabled:Boolean,dataKey:null,"aria-labelledby":{type:String,default:null}},data(){return{focusedIndex:0}},mounted(){this.defaultTabIndexes()},methods:{defaultTabIndexes(){let e=h.find(this.$refs.container,".p-button"),l=h.findSingle(this.$refs.container,".p-highlight");for(let t=0;t<e.length;t++)(h.hasClass(e[t],"p-highlight")&&r.equals(e[t],l)||l===null&&t==0)&&(this.focusedIndex=t)},getOptionLabel(e){return this.optionLabel?r.resolveFieldData(e,this.optionLabel):e},getOptionValue(e){return this.optionValue?r.resolveFieldData(e,this.optionValue):e},getOptionRenderKey(e){return this.dataKey?r.resolveFieldData(e,this.dataKey):this.getOptionLabel(e)},isOptionDisabled(e){return this.optionDisabled?r.resolveFieldData(e,this.optionDisabled):!1},onOptionSelect(e,l,t){if(this.disabled||this.isOptionDisabled(l))return;let i=this.isSelected(l);if(i&&!this.unselectable)return;let s=this.getOptionValue(l),a;this.multiple?i?a=this.modelValue.filter(u=>!r.equals(u,s,this.equalityKey)):a=this.modelValue?[...this.modelValue,s]:[s]:a=i?null:s,this.focusedIndex=t,this.$emit("update:modelValue",a),this.$emit("change",{event:e,value:a})},isSelected(e){let l=!1,t=this.getOptionValue(e);if(this.multiple){if(this.modelValue){for(let i of this.modelValue)if(r.equals(i,t,this.equalityKey)){l=!0;break}}}else l=r.equals(this.modelValue,t,this.equalityKey);return l},onKeydown(e,l,t){switch(e.code){case"Space":{this.onOptionSelect(e,l,t),e.preventDefault();break}case"ArrowDown":case"ArrowRight":{this.changeTabIndexes(e,"next"),e.preventDefault();break}case"ArrowUp":case"ArrowLeft":{this.changeTabIndexes(e,"prev"),e.preventDefault();break}}},changeTabIndexes(e,l){let t,i;for(let s=0;s<=this.$refs.container.children.length-1;s++)this.$refs.container.children[s].getAttribute("tabindex")==="0"&&(t={elem:this.$refs.container.children[s],index:s});l==="prev"?t.index===0?i=this.$refs.container.children.length-1:i=t.index-1:t.index===this.$refs.container.children.length-1?i=0:i=t.index+1,this.focusedIndex=i,this.$refs.container.children[i].focus()},onFocus(e){this.$emit("focus",e)},onBlur(e,l){e.target&&e.relatedTarget&&e.target.parentElement!==e.relatedTarget.parentElement&&this.defaultTabIndexes(),this.$emit("blur",e,l)},getButtonClass(e){return["p-button p-component",{"p-highlight":this.isSelected(e),"p-disabled":this.isOptionDisabled(e)}]}},computed:{containerClass(){return["p-selectbutton p-buttonset p-component",{"p-disabled":this.disabled}]},equalityKey(){return this.optionValue?null:this.dataKey}},directives:{ripple:f}};const K=["aria-labelledby"],S=["tabindex","aria-label","role","aria-checked","aria-disabled","onClick","onKeydown","onBlur"],k={class:"p-button-label"};function w(e,l,t,i,s,a){const u=g("ripple");return c(),b("div",{ref:"container",class:p(a.containerClass),role:"group","aria-labelledby":e.ariaLabelledby},[(c(!0),b(m,null,y(t.options,(n,o)=>x((c(),b("div",{key:a.getOptionRenderKey(n),tabindex:o===s.focusedIndex?"0":"-1","aria-label":a.getOptionLabel(n),role:t.multiple?"checkbox":"radio","aria-checked":a.isSelected(n),"aria-disabled":t.optionDisabled,class:p(a.getButtonClass(n,o)),onClick:d=>a.onOptionSelect(d,n,o),onKeydown:d=>a.onKeydown(d,n,o),onFocus:l[0]||(l[0]=d=>a.onFocus(d)),onBlur:d=>a.onBlur(d,n)},[V(e.$slots,"option",{option:n,index:o},()=>[D("span",k,O(a.getOptionLabel(n)),1)])],42,S)),[[u]])),128))],10,K)}B.render=w;export{B as s};
//# sourceMappingURL=selectbutton.esm-1085ac65.js.map

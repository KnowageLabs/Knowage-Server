<div layout="row" class="cockpit-map-widget" layout-fill style="position: relative;">
	<div id="{{ngModel.content.mapId}}" class="map" style="width:100%">
		<div class="optionsController" ng-click="toggleSidenav()" ng-class="{ 'sideNavOpened': sideNavOpened }" ng-if="!ngModel.controlPanelAlwaysOpen">
			<md-tooltip>{{translate.load('sbi.cockpit.map.togglemapoptions')}}</md-tooltip>
			<i class="fa fa-cog"></i>
		</div>
		<ng-include src="getTemplateUrl('mapWidgetLegendPanel')"></ng-include>
	</div>
	
	<div id="tooltip-{{ngModel.id}}" class="ol-tooltip">
		<span>{{ tooltip }}</span>
	</div> 
	<div id="popup-{{ngModel.id}}" class="ol-popup" style="visibility: hidden;"> 
		<div href="#" id="popup-closer-{{ngModel.id}}" class="ol-popup-closer">  
			<i class="fa fa-times"></i>
		</div> 
		<h2 ng-style="{ 'font-size': ngModel.style.tooltip.text['font-size'] }">{{translate.load('sbi.cockpit.map.details')}}</h2>
		<div id="popup-content-{{ngModel.id}}" class="popup-content" ng-style="ngModel.style.tooltip.box">
			<ul>
				<li ng-repeat="prop in layerConfig track by $index" ng-if="prop.properties.showDetails">
					<p>
						<strong ng-style="ngModel.style.tooltip.text">{{ prop.aliasToShow | i18n}}:</strong>
						<span ng-style="ngModel.style.tooltip.text" ng-cloak >{{ getPropValue(prop) }}</span>
					</p>
					<p ng-if="props[prop.name].showWarning" class="warningMessage"><i class='fa fa-warning'></i> {{translate.load('sbi.cockpit.map.alarmrange')}}</p>
				</li>
				<li ng-if="checkCrossNavigation()">
					<span class="crossNavigationLink" ng-click="crossNavigate(layerConfig.dsId,layerConfig,props)">{{(ngModel.cross && ngModel.cross.cross && ngModel.cross.cross.label) || translate.load('sbi.cockpit.map.gotodetail')}}</span>
				</li>
			</ul>
		</div>
	</div>

	<ng-include src="getTemplateUrl('mapWidgetControlPanel')"></ng-include>

</div>